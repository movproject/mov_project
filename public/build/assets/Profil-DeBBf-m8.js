import{u as he,r as o,j as e,H as ge,b as i}from"./app-CDIyXfzz.js";import{A as ue,X as B,a as pe}from"./AuthenticatedLayout-BfeCSPIl.js";import{C as x,B as h}from"./button-p4g7T8hM.js";import{B as _}from"./badge-xBt1qgbW.js";import{u as be}from"./useRole-BFFRoqTW.js";import{K as Q,S as je}from"./RoleGuard-0zvIMnY1.js";import{m as s}from"./proxy-DzmnYFB9.js";import{U as fe}from"./user-C27HZQAo.js";import{c as w}from"./createLucideIcon-BwpbLGP3.js";import{M as ye}from"./map-pin-BTZe7WcA.js";import{C as J}from"./calendar-BJNpb-vr.js";import{P as V}from"./package-C_C16TY2.js";import{T as Ne}from"./trending-up-CwclXeO4.js";import{U as X}from"./user-plus-CL65iLMy.js";import{A as U}from"./index-B48i9LRO.js";import{S as ve}from"./search-C25Y2AIj.js";import{F as we}from"./funnel-cgvumGy3.js";import{C as ke}from"./circle-check-BRr_3ZTi.js";import{C as Se}from"./circle-x-xyFn3MhH.js";import{M as Ce,P as Pe}from"./phone-CmD-SEbe.js";import{T as _e}from"./trash-2-DtlPX-Ab.js";import{B as Ue,S as Me}from"./shield-CBO4JxOt.js";import"./ApplicationLogo-eK3ZPc4I.js";import"./index-YTMNbmQK.js";import"./transition-2DpMPA6d.js";import"./book-open-CqqVG8Vg.js";const De=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],v=w("chevron-right",De);const He=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Ke=w("circle-question-mark",He);const Te=[["path",{d:"M12 2v10",key:"mnfbl"}],["path",{d:"M18.4 6.6a9 9 0 1 1-12.77.04",key:"obofu9"}]],$e=w("power",Te);const Ae=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],W=w("square-pen",Ae);const Be=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],M=w("users",Be);function ca({users:Y=[],filters:E={}}){const{auth:Z,flash:k}=he().props,d=Z?.user,S=d?.role,{isKPetani:I}=be(),[ee,L]=o.useState(!1),[b,q]=o.useState(E.search||""),[f,R]=o.useState(E.role||"all"),[ae,D]=o.useState(!1),[g,H]=o.useState(null),[se,z]=o.useState(!1),[t,c]=o.useState({name:"",email:"",username:"",id_kerja:"",phone:"",role:"petani",password:"",password_confirmation:""}),[m,p]=o.useState({name:"",email:"",username:"",id_kerja:"",phone:""}),[r,j]=o.useState({}),[n,C]=o.useState({}),[K,T]=o.useState(!1),[$,F]=o.useState(!1),u={name:d?.name||"User",email:d?.email||"user@email.com",phone:d?.phone||"+62 812-3456-7890",role:S==="k-petani"?"K-Petani (IoT Connected)":S==="petani"?"Petani Umum":"Guest",location:"Cirebon, Jawa Barat",joinDate:d?.created_at?new Date(d.created_at).toLocaleDateString("id-ID",{day:"numeric",month:"long",year:"numeric"}):"15 Januari 2025",farmSize:"2.5 Ha",totalTrees:95},re=()=>{i.post(route("logout"))},O=a=>{switch(a){case"k-petani":return"bg-gradient-to-r from-green-500 to-emerald-500 text-white";case"petani":return"bg-gradient-to-r from-blue-500 to-cyan-500 text-white";default:return"bg-gradient-to-r from-gray-400 to-gray-500 text-white"}},A=(Y||[]).filter(a=>{const l=a.name?.toLowerCase().includes(b.toLowerCase())||a.email?.toLowerCase().includes(b.toLowerCase())||a.phone?.toLowerCase().includes(b.toLowerCase()),N=f==="all"||a.role===f;return l&&N}),te=()=>{L(!0),i.get(route("users.index"),{search:b,role:f},{preserveState:!0,preserveScroll:!0})},le=()=>{L(!1),q(""),R("all")},ne=a=>{q(a),i.get(route("users.index"),{search:a,role:f},{preserveState:!0,preserveScroll:!0})},ie=a=>{R(a),i.get(route("users.index"),{search:b,role:a},{preserveState:!0,preserveScroll:!0})},G=()=>{H(null),c({name:"",email:"",username:"",id_kerja:"",phone:"",role:"petani",password:"",password_confirmation:""}),j({}),D(!0)},oe=a=>{H(a),c({name:a.name||"",email:a.email||"",username:a.username||"",id_kerja:a.id_kerja||"",phone:a.phone||"",role:a.role||"petani",password:"",password_confirmation:""}),j({}),D(!0)},y=()=>{D(!1),H(null),c({name:"",email:"",username:"",id_kerja:"",phone:"",role:"petani",password:"",password_confirmation:""}),j({})},de=a=>{a.preventDefault(),T(!0),j({});const l={...t};g&&!l.password&&(delete l.password,delete l.password_confirmation),g?i.put(route("users.update",g.id),l,{preserveScroll:!0,onSuccess:()=>{y(),i.reload({only:["users","flash"]})},onError:N=>{j(N),T(!1)}}):i.post(route("users.store"),l,{preserveScroll:!0,onSuccess:()=>{y(),i.reload({only:["users","flash"]})},onError:N=>{j(N),T(!1)}})},ce=a=>{confirm("Apakah Anda yakin ingin menghapus user ini?")&&i.delete(route("users.destroy",a),{preserveScroll:!0,onSuccess:()=>{i.reload({only:["users","flash"]})}})},me=(a,l)=>{i.post(route("users.toggle-active",a),{},{preserveScroll:!0,onSuccess:()=>{i.reload({only:["users","flash"]})}})},P=()=>{z(!1),p({name:"",email:"",username:"",id_kerja:"",phone:""}),C({})},xe=a=>{a.preventDefault(),F(!0),C({}),i.patch(route("profile.update"),m,{preserveScroll:!0,onSuccess:()=>{P(),i.reload({only:["auth","flash"]})},onError:l=>{C(l),F(!1)}})};return e.jsxs(ue,{children:[e.jsx(ge,{title:"Profil Saya"}),e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-green-50/30 to-blue-50/30",children:e.jsxs("div",{className:"p-4 md:p-6 space-y-4 md:space-y-6 max-w-7xl mx-auto",children:[e.jsxs(s.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"flex items-center gap-3 mb-6",children:[e.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-green-500 to-emerald-600 rounded-xl flex items-center justify-center shadow-lg",children:e.jsx(fe,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl md:text-3xl font-bold bg-gradient-to-r from-green-600 to-emerald-600 bg-clip-text text-transparent",children:"Profil Saya ðŸ‘¤"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Kelola akun dan pengaturan Anda"})]})]}),e.jsx(s.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},children:e.jsx(x,{className:"p-5 md:p-8 bg-gradient-to-br from-green-50 via-yellow-50 to-orange-50 border-2 border-green-200/50 shadow-xl",children:e.jsxs("div",{className:"flex items-start gap-4 md:gap-6",children:[e.jsx(s.div,{whileHover:{scale:1.05,rotate:5},className:"w-20 h-20 md:w-24 md:h-24 bg-gradient-to-br from-green-500 to-yellow-500 rounded-full flex items-center justify-center text-3xl md:text-4xl flex-shrink-0 shadow-lg",children:"ðŸ‘¨â€ðŸŒ¾"}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl md:text-2xl font-bold text-gray-900 mb-2",children:u.name}),e.jsx(_,{className:`${O(S)} border-0 shadow-md`,children:u.role})]}),e.jsxs(h,{size:"sm",variant:"outline",className:"border-green-500 text-green-600 hover:bg-green-50",onClick:()=>{p({name:d?.name||"",email:d?.email||"",username:d?.username||"",id_kerja:d?.id_kerja||"",phone:d?.phone||""}),C({}),z(!0)},children:[e.jsx(W,{className:"w-4 h-4 mr-2"}),"Edit"]})]}),e.jsxs("div",{className:"space-y-2 mt-4 text-sm",children:[e.jsxs("p",{className:"text-gray-700 flex items-center gap-2",children:[e.jsx(ye,{className:"w-4 h-4 text-green-600"}),u.location]}),e.jsxs("p",{className:"text-gray-700 flex items-center gap-2",children:[e.jsx(J,{className:"w-4 h-4 text-green-600"}),"Bergabung: ",u.joinDate]})]})]})]})})}),e.jsx(s.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},children:e.jsxs(x,{className:"p-4 md:p-6 bg-white/80 backdrop-blur-sm border-2 border-gray-200/50 shadow-xl",children:[e.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:"Statistik Kebun"}),e.jsxs("div",{className:"grid grid-cols-3 gap-3 md:gap-4 text-center",children:[e.jsxs(s.div,{whileHover:{scale:1.05},className:"p-4 bg-gradient-to-br from-green-50 to-emerald-50 rounded-xl border border-green-200 shadow-md",children:[e.jsx(V,{className:"w-6 h-6 text-green-600 mx-auto mb-2"}),e.jsx("p",{className:"text-2xl md:text-3xl font-bold text-green-600",children:u.farmSize}),e.jsx("p",{className:"text-xs md:text-sm text-gray-600 mt-1",children:"Luas Kebun"})]}),e.jsxs(s.div,{whileHover:{scale:1.05},className:"p-4 bg-gradient-to-br from-yellow-50 to-amber-50 rounded-xl border border-yellow-200 shadow-md",children:[e.jsx(Ne,{className:"w-6 h-6 text-yellow-600 mx-auto mb-2"}),e.jsx("p",{className:"text-2xl md:text-3xl font-bold text-yellow-600",children:u.totalTrees}),e.jsx("p",{className:"text-xs md:text-sm text-gray-600 mt-1",children:"Total Pohon"})]}),e.jsxs(s.div,{whileHover:{scale:1.05},className:"p-4 bg-gradient-to-br from-orange-50 to-red-50 rounded-xl border border-orange-200 shadow-md",children:[e.jsx(V,{className:"w-6 h-6 text-orange-600 mx-auto mb-2"}),e.jsx("p",{className:"text-2xl md:text-3xl font-bold text-orange-600",children:"8"}),e.jsx("p",{className:"text-xs md:text-sm text-gray-600 mt-1",children:"Blok Aktif"})]})]})]})}),e.jsx(s.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},children:e.jsxs(x,{className:"p-4 md:p-6 bg-white/80 backdrop-blur-sm border-2 border-gray-200/50 shadow-xl",children:[e.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:"Informasi Akun"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs(s.div,{whileHover:{x:5},className:"flex items-center justify-between py-3 border-b border-gray-100",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Email"}),e.jsx("p",{className:"text-gray-900 font-medium",children:u.email})]}),e.jsx(v,{className:"w-5 h-5 text-gray-400"})]}),e.jsxs(s.div,{whileHover:{x:5},className:"flex items-center justify-between py-3 border-b border-gray-100",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Nomor Telepon"}),e.jsx("p",{className:"text-gray-900 font-medium",children:u.phone})]}),e.jsx(v,{className:"w-5 h-5 text-gray-400"})]}),e.jsxs(s.div,{whileHover:{x:5},className:"flex items-center justify-between py-3",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Password"}),e.jsx("p",{className:"text-gray-900 font-medium",children:"â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢"})]}),e.jsx(v,{className:"w-5 h-5 text-gray-400"})]})]})]})}),e.jsx(Q,{children:e.jsx(s.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},children:e.jsxs(x,{className:"p-4 md:p-6 bg-gradient-to-br from-green-50 via-emerald-50 to-green-100 border-2 border-green-300/50 shadow-xl",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-green-500 to-emerald-600 rounded-xl flex items-center justify-center shadow-lg",children:e.jsx(M,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"User Management"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Kelola user dan petani"})]})]}),e.jsxs(h,{variant:"outline",className:"border-green-500 text-green-600 hover:bg-green-50",onClick:G,children:[e.jsx(X,{className:"w-4 h-4 mr-2"}),"Tambah User"]})]}),e.jsx("div",{className:"space-y-3",children:e.jsxs(s.div,{whileHover:{x:5,backgroundColor:"rgba(34, 197, 94, 0.1)"},className:"flex items-center justify-between p-3 rounded-lg border border-green-200 bg-white/50 cursor-pointer",onClick:te,children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(M,{className:"w-5 h-5 text-green-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:"Daftar User & Petani"}),e.jsx("p",{className:"text-xs text-gray-600",children:"Lihat dan kelola semua user"})]})]}),e.jsx(v,{className:"w-5 h-5 text-gray-400"})]})})]})})}),e.jsx(U,{children:ee&&e.jsx(Q,{children:e.jsx(s.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:20},transition:{delay:.5},className:"mt-6",children:e.jsxs(x,{className:"p-4 md:p-6 bg-white/90 backdrop-blur-xl border-2 border-green-300/50 shadow-2xl",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-green-500 to-emerald-600 rounded-xl flex items-center justify-center shadow-lg",children:e.jsx(M,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Kelola User & Petani"}),e.jsxs("p",{className:"text-sm text-gray-600",children:["Total: ",A.length," user"]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(h,{variant:"outline",className:"border-green-500 text-green-600 hover:bg-green-50",onClick:G,children:[e.jsx(X,{className:"w-4 h-4 mr-2"}),"Tambah User"]}),e.jsx(h,{variant:"outline",size:"sm",className:"border-gray-300 text-gray-600 hover:bg-gray-50",onClick:le,children:e.jsx(B,{className:"w-4 h-4"})})]})]}),e.jsxs("div",{className:"flex flex-col md:flex-row gap-3 mb-6",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx(ve,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Cari user berdasarkan nama atau email...",value:b,onChange:a=>ne(a.target.value),className:"w-full pl-10 pr-4 py-2.5 border-2 border-gray-200 rounded-xl focus:border-green-500 focus:ring-2 focus:ring-green-500/20 outline-none transition-all"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(we,{className:"w-5 h-5 text-gray-400"}),e.jsxs("select",{value:f,onChange:a=>ie(a.target.value),className:"px-4 py-2.5 border-2 border-gray-200 rounded-xl focus:border-green-500 focus:ring-2 focus:ring-green-500/20 outline-none transition-all",children:[e.jsx("option",{value:"all",children:"Semua Role"}),e.jsx("option",{value:"k-petani",children:"K-Petani"}),e.jsx("option",{value:"petani",children:"Petani"}),e.jsx("option",{value:"guest",children:"Guest"})]})]})]}),e.jsx("div",{className:"space-y-3 max-h-[600px] overflow-y-auto",children:e.jsx(U,{children:A.length>0?A.map((a,l)=>e.jsx(s.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},transition:{delay:l*.05},whileHover:{scale:1.02,x:5},children:e.jsx(x,{className:"p-4 border-2 border-gray-200 hover:border-green-300 bg-gradient-to-r from-white to-green-50/30 transition-all shadow-md hover:shadow-lg",children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx(s.div,{whileHover:{scale:1.1,rotate:5},className:"w-12 h-12 bg-gradient-to-br from-green-400 to-emerald-500 rounded-xl flex items-center justify-center text-white font-bold text-lg shadow-lg flex-shrink-0",children:a.name.charAt(0).toUpperCase()}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("div",{className:"flex items-start justify-between mb-2",children:e.jsxs("div",{children:[e.jsx("h4",{className:"font-bold text-gray-900 mb-1",children:a.name}),e.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[e.jsx(_,{className:`${O(a.role)} text-xs`,children:a.role==="k-petani"?"K-Petani":a.role==="petani"?"Petani":"Guest"}),a.is_active?e.jsxs(_,{className:"bg-green-100 text-green-700 text-xs flex items-center gap-1",children:[e.jsx(ke,{className:"w-3 h-3"}),"Aktif"]}):e.jsxs(_,{className:"bg-red-100 text-red-700 text-xs flex items-center gap-1",children:[e.jsx(Se,{className:"w-3 h-3"}),"Nonaktif"]})]})]})}),e.jsxs("div",{className:"space-y-1.5 text-sm",children:[e.jsxs("p",{className:"text-gray-600 flex items-center gap-2",children:[e.jsx(Ce,{className:"w-4 h-4 text-green-600"}),a.email]}),e.jsxs("p",{className:"text-gray-600 flex items-center gap-2",children:[e.jsx(Pe,{className:"w-4 h-4 text-green-600"}),a.phone]}),e.jsxs("p",{className:"text-gray-500 text-xs flex items-center gap-2",children:[e.jsx(J,{className:"w-3 h-3"}),"Bergabung: ",new Date(a.created_at).toLocaleDateString("id-ID",{day:"numeric",month:"long",year:"numeric"})]})]})]}),e.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[e.jsx(s.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>oe(a),className:"p-2 rounded-lg bg-blue-50 text-blue-600 hover:bg-blue-100 transition-colors",title:"Edit User",children:e.jsx(W,{className:"w-4 h-4"})}),e.jsx(s.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>me(a.id,a.is_active),className:`p-2 rounded-lg transition-colors ${a.is_active?"bg-yellow-50 text-yellow-600 hover:bg-yellow-100":"bg-green-50 text-green-600 hover:bg-green-100"}`,title:a.is_active?"Nonaktifkan":"Aktifkan",children:e.jsx($e,{className:"w-4 h-4"})}),e.jsx(s.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>ce(a.id),className:"p-2 rounded-lg bg-red-50 text-red-600 hover:bg-red-100 transition-colors",title:"Hapus User",children:e.jsx(_e,{className:"w-4 h-4"})})]})]})})},a.id)):e.jsxs(s.div,{initial:{opacity:0},animate:{opacity:1},className:"text-center py-12",children:[e.jsx(M,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600 font-medium",children:"Tidak ada user ditemukan"}),e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Coba ubah filter atau kata kunci pencarian"})]})})})]})})})}),e.jsx(s.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:I?.5:.4},children:e.jsxs(x,{className:"p-4 md:p-6 bg-white/80 backdrop-blur-sm border-2 border-green-200/50 shadow-xl",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-green-500 to-emerald-500 rounded-xl flex items-center justify-center shadow-lg",children:e.jsx(Ue,{className:"w-5 h-5 text-white"})}),e.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"Pengaturan Notifikasi"})]}),e.jsx("div",{className:"space-y-4",children:[{id:"notif-deteksi",label:"Hasil Deteksi Kematangan",checked:!0},{id:"notif-penyiraman",label:"Status Penyiraman",checked:!0},{id:"notif-prediksi",label:"Prediksi Panen",checked:!0},{id:"notif-artikel",label:"Artikel & Tips Baru",checked:!1}].map(a=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-xl",children:[e.jsx("label",{htmlFor:a.id,className:"text-sm font-medium text-gray-700 cursor-pointer",children:a.label}),e.jsx("input",{type:"checkbox",id:a.id,defaultChecked:a.checked,className:"w-5 h-5 text-green-600 rounded focus:ring-green-500"})]},a.id))})]})}),e.jsx(s.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},className:"space-y-3",children:[{icon:Ke,label:"Bantuan & Dukungan",href:"#"},{icon:Me,label:"Privasi & Keamanan",href:"#"},{icon:je,label:"Pengaturan Umum",href:"#"}].map((a,l)=>e.jsx(s.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.5+l*.1},whileHover:{scale:1.02,x:5},children:e.jsx(x,{className:"p-4 border-2 border-gray-200 hover:border-green-500 hover:bg-green-50/50 transition-all cursor-pointer shadow-md",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(a.icon,{className:"w-5 h-5 text-gray-600"}),e.jsx("span",{className:"text-gray-900 font-medium",children:a.label})]}),e.jsx(v,{className:"w-5 h-5 text-gray-400"})]})})},a.label))}),S==="k-petani"&&e.jsx(s.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6},children:e.jsxs(x,{className:"p-4 md:p-6 bg-gradient-to-r from-blue-50 via-cyan-50 to-blue-50 border-2 border-blue-200/50 shadow-xl",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-lg font-bold text-gray-900",children:"Status Koneksi IoT"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Semua sensor terhubung"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(s.div,{animate:{scale:[1,1.2,1]},transition:{duration:2,repeat:1/0},className:"w-3 h-3 bg-green-500 rounded-full"}),e.jsx("span",{className:"text-sm font-bold text-green-600",children:"Active"})]})]}),e.jsx("div",{className:"grid grid-cols-2 gap-3",children:["Sensor Suhu","Sensor Kelembapan","Sistem Penyiraman","AI Detection"].map((a,l)=>e.jsxs(s.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{delay:.6+l*.1},whileHover:{scale:1.05},className:"bg-white/80 backdrop-blur-sm p-3 rounded-xl border border-white/50 shadow-md",children:[e.jsx("p",{className:"text-xs text-gray-600 mb-1",children:a}),e.jsx("p",{className:"text-sm font-bold text-green-600",children:"âœ“ Online"})]},a))})]})}),e.jsx(s.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.7},children:e.jsx(x,{className:"p-4 bg-gray-50 border-2 border-gray-200 shadow-md",children:e.jsxs("div",{className:"text-center text-sm text-gray-600 space-y-2",children:[e.jsx("p",{className:"font-bold text-gray-700",children:"MOV Platform v1.0.0"}),e.jsx("p",{children:"Â© 2025 MOV Platform. All rights reserved."}),e.jsxs("div",{className:"flex justify-center gap-3 mt-3",children:[e.jsx("button",{className:"text-green-600 hover:underline font-medium",children:"Kebijakan Privasi"}),e.jsx("span",{className:"text-gray-400",children:"â€¢"}),e.jsx("button",{className:"text-green-600 hover:underline font-medium",children:"Syarat & Ketentuan"})]})]})})}),e.jsx(s.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.8},children:e.jsxs(h,{onClick:re,variant:"outline",className:"w-full border-2 border-red-500 text-red-600 hover:bg-red-50 flex items-center justify-center gap-2 h-12 font-medium shadow-md",children:[e.jsx(pe,{className:"w-5 h-5"}),"Keluar dari Akun"]})}),k?.success&&e.jsx(s.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"fixed top-20 right-4 z-50 bg-green-500 text-white px-6 py-3 rounded-xl shadow-lg",children:k.success}),k?.error&&e.jsx(s.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"fixed top-20 right-4 z-50 bg-red-500 text-white px-6 py-3 rounded-xl shadow-lg",children:k.error}),e.jsx(U,{children:ae&&e.jsx(s.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",onClick:y,children:e.jsxs(s.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},onClick:a=>a.stopPropagation(),className:"bg-white rounded-2xl shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[e.jsx("div",{className:"p-6 border-b border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:g?"Edit User":"Tambah User Baru"}),e.jsx("button",{onClick:y,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:e.jsx(B,{className:"w-5 h-5 text-gray-500"})})]})}),e.jsxs("form",{onSubmit:de,className:"p-6 space-y-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Nama Lengkap ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",value:t.name,onChange:a=>c({...t,name:a.target.value}),className:`w-full px-4 py-2.5 border-2 rounded-xl focus:ring-2 focus:ring-green-500/20 outline-none transition-all ${r.name?"border-red-500":"border-gray-200 focus:border-green-500"}`,required:!0}),r.name&&e.jsx("p",{className:"mt-1 text-sm text-red-500",children:r.name})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Email ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"email",value:t.email,onChange:a=>c({...t,email:a.target.value}),className:`w-full px-4 py-2.5 border-2 rounded-xl focus:ring-2 focus:ring-green-500/20 outline-none transition-all ${r.email?"border-red-500":"border-gray-200 focus:border-green-500"}`,required:!0}),r.email&&e.jsx("p",{className:"mt-1 text-sm text-red-500",children:r.email})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Username"}),e.jsx("input",{type:"text",value:t.username,onChange:a=>c({...t,username:a.target.value}),className:`w-full px-4 py-2.5 border-2 rounded-xl focus:ring-2 focus:ring-green-500/20 outline-none transition-all ${r.username?"border-red-500":"border-gray-200 focus:border-green-500"}`}),r.username&&e.jsx("p",{className:"mt-1 text-sm text-red-500",children:r.username})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"ID Kerja"}),e.jsx("input",{type:"text",value:t.id_kerja,onChange:a=>c({...t,id_kerja:a.target.value}),className:`w-full px-4 py-2.5 border-2 rounded-xl focus:ring-2 focus:ring-green-500/20 outline-none transition-all ${r.id_kerja?"border-red-500":"border-gray-200 focus:border-green-500"}`}),r.id_kerja&&e.jsx("p",{className:"mt-1 text-sm text-red-500",children:r.id_kerja})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nomor Telepon"}),e.jsx("input",{type:"tel",value:t.phone,onChange:a=>c({...t,phone:a.target.value}),className:`w-full px-4 py-2.5 border-2 rounded-xl focus:ring-2 focus:ring-green-500/20 outline-none transition-all ${r.phone?"border-red-500":"border-gray-200 focus:border-green-500"}`}),r.phone&&e.jsx("p",{className:"mt-1 text-sm text-red-500",children:r.phone})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Role ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("select",{value:t.role,onChange:a=>c({...t,role:a.target.value}),className:`w-full px-4 py-2.5 border-2 rounded-xl focus:ring-2 focus:ring-green-500/20 outline-none transition-all ${r.role?"border-red-500":"border-gray-200 focus:border-green-500"}`,required:!0,children:[e.jsx("option",{value:"petani",children:"Petani"}),e.jsx("option",{value:"k-petani",children:"K-Petani"}),e.jsx("option",{value:"guest",children:"Guest"})]}),r.role&&e.jsx("p",{className:"mt-1 text-sm text-red-500",children:r.role})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[g?"Password Baru (kosongkan jika tidak diubah)":"Password"," ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"password",value:t.password,onChange:a=>c({...t,password:a.target.value}),className:`w-full px-4 py-2.5 border-2 rounded-xl focus:ring-2 focus:ring-green-500/20 outline-none transition-all ${r.password?"border-red-500":"border-gray-200 focus:border-green-500"}`,required:!g}),r.password&&e.jsx("p",{className:"mt-1 text-sm text-red-500",children:r.password})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Konfirmasi Password ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"password",value:t.password_confirmation,onChange:a=>c({...t,password_confirmation:a.target.value}),className:`w-full px-4 py-2.5 border-2 rounded-xl focus:ring-2 focus:ring-green-500/20 outline-none transition-all ${r.password_confirmation?"border-red-500":"border-gray-200 focus:border-green-500"}`,required:!g}),r.password_confirmation&&e.jsx("p",{className:"mt-1 text-sm text-red-500",children:r.password_confirmation})]})]}),e.jsxs("div",{className:"flex items-center justify-end gap-3 pt-4 border-t border-gray-200",children:[e.jsx(h,{type:"button",variant:"outline",onClick:y,disabled:K,children:"Batal"}),e.jsx(h,{type:"submit",disabled:K,className:"bg-gradient-to-r from-green-500 to-emerald-600 hover:from-green-600 hover:to-emerald-700",children:K?"Menyimpan...":g?"Update User":"Buat User"})]})]})]})})}),e.jsx(U,{children:se&&e.jsx(s.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",onClick:P,children:e.jsxs(s.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},onClick:a=>a.stopPropagation(),className:"bg-white rounded-2xl shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[e.jsx("div",{className:"p-6 border-b border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Edit Profile"}),e.jsx("button",{onClick:P,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:e.jsx(B,{className:"w-5 h-5 text-gray-500"})})]})}),e.jsxs("form",{onSubmit:xe,className:"p-6 space-y-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Nama Lengkap ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",value:m.name,onChange:a=>p({...m,name:a.target.value}),className:`w-full px-4 py-2.5 border-2 rounded-xl focus:ring-2 focus:ring-green-500/20 outline-none transition-all ${n.name?"border-red-500":"border-gray-200 focus:border-green-500"}`,required:!0}),n.name&&e.jsx("p",{className:"mt-1 text-sm text-red-500",children:n.name})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Email ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"email",value:m.email,onChange:a=>p({...m,email:a.target.value}),className:`w-full px-4 py-2.5 border-2 rounded-xl focus:ring-2 focus:ring-green-500/20 outline-none transition-all ${n.email?"border-red-500":"border-gray-200 focus:border-green-500"}`,required:!0}),n.email&&e.jsx("p",{className:"mt-1 text-sm text-red-500",children:n.email})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Username"}),e.jsx("input",{type:"text",value:m.username,onChange:a=>p({...m,username:a.target.value}),className:`w-full px-4 py-2.5 border-2 rounded-xl focus:ring-2 focus:ring-green-500/20 outline-none transition-all ${n.username?"border-red-500":"border-gray-200 focus:border-green-500"}`}),n.username&&e.jsx("p",{className:"mt-1 text-sm text-red-500",children:n.username})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"ID Kerja"}),e.jsx("input",{type:"text",value:m.id_kerja,onChange:a=>p({...m,id_kerja:a.target.value}),className:`w-full px-4 py-2.5 border-2 rounded-xl focus:ring-2 focus:ring-green-500/20 outline-none transition-all ${n.id_kerja?"border-red-500":"border-gray-200 focus:border-green-500"}`}),n.id_kerja&&e.jsx("p",{className:"mt-1 text-sm text-red-500",children:n.id_kerja})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nomor Telepon"}),e.jsx("input",{type:"tel",value:m.phone,onChange:a=>p({...m,phone:a.target.value}),className:`w-full px-4 py-2.5 border-2 rounded-xl focus:ring-2 focus:ring-green-500/20 outline-none transition-all ${n.phone?"border-red-500":"border-gray-200 focus:border-green-500"}`}),n.phone&&e.jsx("p",{className:"mt-1 text-sm text-red-500",children:n.phone})]}),e.jsxs("div",{className:"flex items-center justify-end gap-3 pt-4 border-t border-gray-200",children:[e.jsx(h,{type:"button",variant:"outline",onClick:P,disabled:$,children:"Batal"}),e.jsx(h,{type:"submit",disabled:$,className:"bg-gradient-to-r from-green-500 to-emerald-600 hover:from-green-600 hover:to-emerald-700",children:$?"Menyimpan...":"Simpan Perubahan"})]})]})]})})})]})})]})}export{ca as default};
